@model PostModel

@if (Model == null)
{
    <h3>No Post Found</h3>
}

<form align="center" method="post" asp-controller="home" asp-action="EditPost" class="card mx-auto">

    <div class="border p-3 mt-4 text-center">
        <div class="row pb-2">
            <h3 class="text-primary">Edit Post</h3>
        </div>
        <hr />
        
        @*hidden properties so no data is lost*@
        <div class="mb-3">
            <input asp-for="@Model.PostId" type="hidden" value="@Model.PostId" />
            <input asp-for="@Model.UserId" type="hidden" value="@Model.UserId" />
            <input asp-for="@Model.PostDate" type="hidden" value="@Model.PostDate" />
            <input asp-for="@Model.EditDate" type="hidden" value="@DateTime.Now" />
            <input asp-for="UserId" type="hidden" value="@Model.UserId" />
@*          <input asp-for="ProfilePicture" type="hidden" value="@Model.ProfilePicture" />*@
            <input asp-for="@Model.ImageUrl" type="hidden" value="@Model.ImageUrl" />
        </div>
        
        <div class="form-floating mb-3 card-body">
            @*            asp binds it to the title in the model*@
            @*<label asp-for="Text">Caption</label>
            <hr/>*@
            <textarea asp-for="@Model.Caption" class="card-group mx-lg-auto" placeholder="Type here!" value="@Model.Caption" rows="10" cols="20" ></textarea>
            <br />
            <span asp-validation-for="Caption" class="text-danger"></span>
        </div>
        
        @if (!String.IsNullOrEmpty(Model.ImageUrl))
        {           
            <hr/>
            <div class="form-floating mb-3">
                @*            asp binds it to the title in the model*@
                @*<label asp-for="Image"></label>*@
                <span asp-validation-for="ImageUrl" class="text-danger"></span>
                <img src="@Model.ImageUrl" />
            </div>
        }
        @*Post date*@
        <hr/>

        <button type="submit" class="btn btn-primary">
            Post Edit
        </button>

        @*<a asp-controller="Home" asp-action="Explore" class="btn btn-secondary">
            Back to Home Page
        </a>*@
        <a href='javascript:history.go(-1)'>Back</a>
    </div>
</form>
